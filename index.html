<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // todo list
        // fitur todo list
        class list {
            constructor(_id, _date, _activity, _status) {
                this.id = _id,
                    this.date = _date,
                    this.activity = _activity,
                    this.status = _status
            }
        }

        const kegiatan = [
            new list(1, "2023-09-11", "memasak", "toDo"),
            new list(2, "2023-09-16", "push rank", "toDo"),
            new list(3, "2023-09-20", "berlari", "isDone"),
        ];
        // menghapus data //

        // khalid
        // menampilkan data //
        // list todo
        // berdasarkan yg telah selesai/yg belum selesai
        // berdasarkan rentang tanggal mulai dan akhir


        while (true) {
            const menuToDo = prompt("Pilih tindakan:\n 1. Tambah data\n 2. Lihat data\n 3. Edit data\n 4. Hapus data\n 5. Keluar");
            // fungsi lihat data
            const lihatData = () => {
                let result = "";
                kegiatan.forEach((value, index) => {
                    result += `
                    ${index + 1}. ${value.id} : ${value.date} ==> ${value.activity} "${value.status}"`;
                    if (index < kegiatan.length - 1) {
                        result += `\n`;
                    }
                });
                return result;
            }

            
 // audra
        // menambah data //
if (menu == "1") {
    const id = parseInt(prompt("Masukkan ID aktivitas (angka):"));
    const date = prompt("Tambahkan tanggal (format: yyyy-mm-dd):");
    const activity = prompt("Tambahkan deskripsi aktivitas:");
    const status = prompt("Tambahkan status aktivitas (toDo / isDone)");
    if (!isNaN(id) && activity && date) {
      const newTask = new list(id, date, activity, status);
      kegiatan.push(newTask);
      alert(`Aktivitas berhasil ditambahkan!`);
    } else {
      alert(
        "ID, deskripsi, dan tanggal tugas tidak boleh kosong dan ID harus berupa angka."
      );
    }
  } else if (menuToDo == "2") {
                alert(lihatData(kegiatan));


            } else if (menuToDo == "3") {
                console.log(`masuk menu todo 3`);
                const selectActivity = prompt(`Pilih aktivitas yang akan diubah\n ${lihatData()}`);

                const selectProperty = prompt(`
                    Pilih data yang akan diubah\n 1. id\n 2. date\n 3. aktivitas\n 4. status
                    `);
                const editList = prompt(`Edit disini :`);

                switch (selectProperty) {
                    case "1":
                        kegiatan[selectActivity - 1].id = editList;
                        break;
                    case "2":
                        kegiatan[selectActivity - 1].date = editList;
                        break;
                    case "3":
                        kegiatan[selectActivity - 1].activity = editList;
                        break;
                    case "4":
                        kegiatan[selectActivity - 1].status = editList;
                        break;
                }

            } // menghapus data //
  else if (menuToDo == "4") {
    if (kegiatan.length == "0") {
      alert("Tidak ada aktivitas yang tersedia untuk dihapus.");
    }

    const taskIndex =
      parseInt(prompt("Nomor aktivitas yang ingin dihapus:")) - 1;

    if (isNaN(taskIndex) || taskIndex < 0 || taskIndex >= kegiatan.length) {
      alert("Nomor aktivitas tidak valid.");
    }

    const confirmDelete = confirm(
      `Apakah Anda yakin ingin menghapus aktivitas "${kegiatan[taskIndex].activity}"?`
    );

    if (confirmDelete == true) {
      kegiatan.splice(taskIndex, 1);
      alert("Aktivitas berhasil dihapus!");
    } else {
      alert("Penghapusan aktivitas dibatalkan.");
    }
  } else if (menuToDo == "5") {
                break;
            }
        }
    </script>
</body>

</html>